# trocopter

Р”Р°РЅРЅС‹Р№ СЂРµРїРѕР·РёС‚РѕСЂРёР№ СЃРѕРґРµСЂР¶РёС‚ РѕРїРёСЃР°РЅРёРµ СЂР°Р±РѕС‚С‹ РєРѕРґР° РєРѕРјР°РЅРґС‹ РўСЂРѕРєРѕРїС‚РµСЂ.
РђР»РіРѕСЂРёС‚Рј РјС‹ СЂР°Р·РґРµР»РёР»Рё РЅР° РЅРµСЃРєРѕР»СЊРєРѕ С‡Р°СЃС‚РµР№: РїРµСЂРІС‹Р№ РѕР±Р»РµС‚ Рё РІС‚РѕСЂРѕР№ РѕР±Р»РµС‚.

Р’Рѕ РІСЂРµРјСЏ РїРµСЂРІРѕРіРѕ РѕР±Р»РµС‚Р° С‚СЂРµР±РѕРІР°Р»РѕСЃСЊ:
1) РџСЂРѕР»РµС‚РµС‚СЊ РїРѕ Р·Р°РґР°РЅРЅС‹Рј РєРѕРѕСЂРґРёРЅР°С‚Р°Рј.
2) Р Р°СЃРїРѕР·РЅР°С‚СЊ С†РІРµС‚ РјРµС‚РєРё РЅР° РєРѕРѕСЂРґРёРЅР°С‚Рµ.
3) РџСЂРѕСЃРёРіРЅР°Р»РёР·РёСЂРѕРІР°С‚СЊ СЃРІРµС‚РѕРґРёРѕРґРЅРѕР№ Р»РµРЅС‚РѕР№, РµСЃР»Рё С†РІРµС‚ Р¶РµР»С‚С‹Р№ РёР»Рё РєСЂР°СЃРЅС‹Р№.
4) "Р—Р°РїРѕРјРЅРёС‚СЊ", РіРґРµ С†РІРµС‚ Р¶РµР»С‚С‹Р№ РёР»Рё РєСЂР°СЃРЅС‹Р№, С‡С‚РѕР±С‹ РІРѕ РІСЂРµРјСЏ РІС‚РѕСЂРѕРіРѕ РѕР±Р»РµС‚Р° РІРµСЂРЅСѓС‚СЊСЃСЏ РЅР° СЌС‚Сѓ С‚РѕС‡РєСѓ.

<<<<<<< HEAD
Во время второго облета требовалось:
1) Совершить облет по "запомненным" координатам
2) Просканировать QR метки на эих координатах
3) Просигнализировать лентой, если заражение подтвердилось, и вывести результат в терминал 

Начнем с первого облетета.
1) Для полета по координатам мы используем функцию navigate() с frame_id = 'aruco_map'
'''python
navigate(x=0.295, y=0.885, z=0.5, speed=0.2, frame_id='aruco_map')
rospy.sleep(8)
'''
Таким образом коптер пролетает по всем координатам.

2) Распознавать цвет мы начинаем когда коптер прилетает в очередную точку. Для того, чтобы в конкретный момент распознавать то, что нам надо, мы используем следующую конструкцию
'''python
if first_fly and check != '0':
'''
Переменная first_fly равна True во время первого облета, и False во время второго. Таким образом, во время первого полета мы распознаем цвета, а во время второго QR коды, используя один callback.
Переменная check принимает значение, соответствующее номеру точки
'''python
navigate(x=0.295, y=0.295, z=0.5, speed=0.2, frame_id='aruco_map')
rospy.sleep(8)
#Запускаем распознование
check = '1'
rospy.sleep(1)
#Останавливаем распознование
check = '0'
'''
Номера точек соотносятся с координатами в словаре PATIENTS
'''python
PATIENTS = {'1': [0.295, 0.295], '2': [0.885, 0.295], '3': [0.295, 0.885],
            '4': [0.885, 0.885], '5': [0.295, 1.475], '6': [0.885, 1.475],
            '7': [0.295, 2.065], '8': [0.885, 2.065], '9': [0.59, 2.655]}
'''
Таким образом, когда коптер находится на какой-либо координате, распознавалка начинает работать.
=======
Р’Рѕ РІСЂРµРјСЏ РІС‚РѕСЂРѕРіРѕ РѕР±Р»РµС‚Р° С‚СЂРµР±РѕРІР°Р»РѕСЃСЊ:
1) РЎРѕРІРµСЂС€РёС‚СЊ РѕР±Р»РµС‚ РїРѕ "Р·Р°РїРѕРјРЅРµРЅРЅС‹Рј" РєРѕРѕСЂРґРёРЅР°С‚Р°Рј.
2) РџСЂРѕСЃРєР°РЅРёСЂРѕРІР°С‚СЊ QR РјРµС‚РєРё РЅР° СЌРёС… РєРѕРѕСЂРґРёРЅР°С‚Р°С….
>>>>>>> 6bf30a00265798262e4205033d2e0aec1a6cf3ae
